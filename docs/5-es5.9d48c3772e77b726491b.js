function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zrcO:function(e,r,n){"use strict";n.r(r);var t=n("ofXK"),s=n("3Pt+"),o=n("tyNb"),i=n("fXoL"),a=n("zLM3");function c(e,r){if(1&e&&(i.Mb(0,"li",3),i.Mb(1,"a",4),i.gc(2),i.Lb(),i.Lb()),2&e){var n=r.$implicit;i.zb(1),i.ac("routerLink","/users/",n.id,""),i.zb(1),i.ic(" ",n.name," ")}}var l,u=((l=function(){function e(r){_classCallCheck(this,e),this.userService=r,this.users=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUsers()}},{key:"getUsers",value:function(){var e=this;this.userService.getUsers().subscribe((function(r){return e.users=r}))}}]),e}()).\u0275fac=function(e){return new(e||l)(i.Jb(a.a))},l.\u0275cmp=i.Db({type:l,selectors:[["app-user-list"]],decls:4,vars:1,consts:[[1,"p-3","mb-2","bg-secondary","text-white"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"routerLink"]],template:function(e,r){1&e&&(i.Mb(0,"h2",0),i.gc(1,"Users"),i.Lb(),i.Mb(2,"ul",1),i.fc(3,c,3,2,"li",2),i.Lb()),2&e&&(i.zb(3),i.Zb("ngForOf",r.users))},directives:[t.h,o.c],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]}),l);function b(e,r){if(1&e){var n=i.Nb();i.Mb(0,"div"),i.Mb(1,"h2",1),i.gc(2),i.Xb(3,"uppercase"),i.Lb(),i.Mb(4,"div",2),i.Mb(5,"label",3),i.gc(6),i.Lb(),i.Mb(7,"div",4),i.Mb(8,"input",5),i.Ub("ngModelChange",(function(e){return i.cc(n),i.Wb().user.name=e})),i.Lb(),i.Lb(),i.Lb(),i.Mb(9,"div",6),i.Mb(10,"button",7),i.Ub("click",(function(){return i.cc(n),i.Wb().goBack()})),i.gc(11,"Go Back"),i.Lb(),i.Lb(),i.Lb()}if(2&e){var t=i.Wb();i.zb(2),i.ic(" ",i.Yb(3,3,t.user.name)," Detail "),i.zb(4),i.ic(" ",t.user.name," "),i.zb(2),i.Zb("ngModel",t.user.name)}}var f,d,m=((d=function(){function e(r,n,t){_classCallCheck(this,e),this.userService=r,this.route=n,this.location=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUser()}},{key:"getUser",value:function(){var e=this,r=+this.route.snapshot.paramMap.get("id");this.userService.getUser(r).subscribe((function(r){return e.user=r}))}},{key:"goBack",value:function(){this.location.back()}}]),e}()).\u0275fac=function(e){return new(e||d)(i.Jb(a.a),i.Jb(o.a),i.Jb(t.f))},d.\u0275cmp=i.Db({type:d,selectors:[["app-user-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-2","mb-2","bg-secondary","text-white","text-center"],[1,"form-group","row","justify-content-md-center"],["for","username",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5","my-3"],["placeholder","user name","name","username","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&i.fc(0,b,12,5,"div",0),2&e&&i.Zb("ngIf",r.user)},directives:[t.i,s.a,s.f,s.h],pipes:[t.l],styles:[""]}),d),p=((f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"patternValidator",value:function(){return function(e){return e.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(e.value)?null:{invalidPassword:!0}:null}}},{key:"MatchPassword",value:function(e,r){return function(n){var t=n.controls[e],s=n.controls[r];return t&&s?s.errors&&!s.errors.passwordMismatch?null:void s.setErrors(t.value!=s.value?{passwordMismatch:!0}:null):null}}},{key:"userNameValidator",value:function(e){var r=this;return new Promise((function(n){setTimeout((function(){r.validateUserName(e.value)?n({userNameNotAvailable:!0}):n(null)}),1e3)}))}},{key:"validateUserName",value:function(e){return["Lola","Sky","Trump"].indexOf(e)>-1}}]),e}()).\u0275fac=function(e){return new(e||f)},f.\u0275prov=i.Fb({token:f,factory:f.\u0275fac,providedIn:"root"}),f);function g(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Name is required "),i.Lb())}function h(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Email is required "),i.Lb())}function v(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Enter a valid email address "),i.Lb())}function w(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Password is required "),i.Lb())}function y(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),i.Lb())}function M(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Confirm Password is required "),i.Lb())}function L(e,r){1&e&&(i.Mb(0,"span",15),i.gc(1," Passwords doesnot match "),i.Lb())}var k,C=((k=function(){function e(r,n,t){_classCallCheck(this,e),this.fb=r,this.customValidator=n,this.location=t,this.submitted=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.signupForm=this.fb.group({userName:["",s.j.required],email:["",[s.j.required,s.j.email]],password:["",s.j.compose([s.j.required,this.customValidator.patternValidator()])],confirmedPassword:["",[s.j.required]]},{validator:this.customValidator.MatchPassword("password","confirmedPassword")})}},{key:"onSubmit",value:function(){this.submitted=!0,this.signupForm.valid&&alert("Form submitted successfully\n\n\n Check the values in the browser console"),console.table(this.signupForm.value)}},{key:"goBack",value:function(){this.location.back()}},{key:"f",get:function(){return this.signupForm.controls}}]),e}()).\u0275fac=function(e){return new(e||k)(i.Jb(s.b),i.Jb(p),i.Jb(t.f))},k.\u0275cmp=i.Db({type:k,selectors:[["app-signup"]],decls:34,vars:9,consts:[[1,"my-3",3,"formGroup","ngSubmit"],[1,"form-group","row","justify-content-md-center"],["for","username",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5"],["type","text","formControlName","userName",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email",1,"col-sm-2","col-form-label"],["type","email","formControlName","email",1,"form-control"],["for","password",1,"col-sm-2","col-form-label"],["type","password","formControlName","password",1,"form-control"],["for","confirm_password",1,"col-sm-2","col-form-label"],["type","password","formControlName","confirmedPassword",1,"form-control"],[1,"col-sm-10","col-lg-3"],["type","submit",1,"btn","btn-secondary","mx-3",3,"disabled"],["type","button",1,"btn","btn-secondary","mx-3",3,"click"],[1,"text-danger"]],template:function(e,r){1&e&&(i.Mb(0,"form",0),i.Ub("ngSubmit",(function(){return r.onSubmit()})),i.Mb(1,"div",1),i.Mb(2,"label",2),i.gc(3," User Name "),i.Lb(),i.Mb(4,"div",3),i.Kb(5,"input",4),i.fc(6,g,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(7,"div",1),i.Mb(8,"label",6),i.gc(9," Email "),i.Lb(),i.Mb(10,"div",3),i.Kb(11,"input",7),i.fc(12,h,2,0,"span",5),i.fc(13,v,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(14,"div",1),i.Mb(15,"label",8),i.gc(16," Password "),i.Lb(),i.Mb(17,"div",3),i.Kb(18,"input",9),i.fc(19,w,2,0,"span",5),i.fc(20,y,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(21,"div",1),i.Mb(22,"label",10),i.gc(23," Confirm Password "),i.Lb(),i.Mb(24,"div",3),i.Kb(25,"input",11),i.fc(26,M,2,0,"span",5),i.fc(27,L,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(28,"div",1),i.Mb(29,"div",12),i.Mb(30,"button",13),i.gc(31,"Sign Up"),i.Lb(),i.Mb(32,"button",14),i.Ub("click",(function(){return r.goBack()})),i.gc(33,"Cancel"),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.Zb("formGroup",r.signupForm),i.zb(6),i.Zb("ngIf",(r.f.userName.touched||r.submitted)&&(null==r.f.userName.errors?null:r.f.userName.errors.required)),i.zb(6),i.Zb("ngIf",(r.f.email.touched||r.submitted)&&(null==r.f.email.errors?null:r.f.email.errors.required)),i.zb(1),i.Zb("ngIf",r.f.email.touched&&(null==r.f.email.errors?null:r.f.email.errors.email)),i.zb(6),i.Zb("ngIf",(r.f.password.touched||r.submitted)&&(null==r.f.password.errors?null:r.f.password.errors.required)),i.zb(1),i.Zb("ngIf",r.f.password.touched&&(null==r.f.password.errors?null:r.f.password.errors.invalidPassword)),i.zb(6),i.Zb("ngIf",(r.f.confirmedPassword.touched||r.submitted)&&(null==r.f.confirmedPassword.errors?null:r.f.confirmedPassword.errors.required)),i.zb(1),i.Zb("ngIf",r.f.confirmedPassword.touched&&(null==r.f.confirmedPassword.errors?null:r.f.confirmedPassword.errors.passwordMismatch)),i.zb(3),i.Zb("disabled",!r.signupForm.valid))},directives:[s.k,s.g,s.d,s.a,s.f,s.c,t.i],styles:[""]}),k),P=n("SxV6");function I(e,r){1&e&&(i.Mb(0,"span",12),i.gc(1," Email is required "),i.Lb())}function z(e,r){1&e&&(i.Mb(0,"span",12),i.gc(1," Enter a valid email address "),i.Lb())}function U(e,r){1&e&&(i.Mb(0,"span",12),i.gc(1," Password is required "),i.Lb())}function S(e,r){1&e&&(i.Mb(0,"span",12),i.gc(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),i.Lb())}function _(e,r){1&e&&i.Kb(0,"span",13)}var N,Z,q,F=((Z=function(){function e(r,n,t,s,o,i){_classCallCheck(this,e),this.fb=r,this.userCustomValidationService=n,this.location=t,this.router=s,this.route=o,this.userService=i,this.submitted=!1,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.signinForm=this.fb.group({email:["",[s.j.required,s.j.email]],password:["",s.j.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.signinForm.invalid||(this.loading=!0,this.userService.login(this.f.email.value,this.f.password.value).pipe(Object(P.a)()).subscribe((function(r){e.router.navigate([e.returnUrl])}),(function(r){e.error=r,e.loading=!1})),console.table(this.signinForm.value))}},{key:"goBack",value:function(){this.location.back()}},{key:"f",get:function(){return this.signinForm.controls}}]),e}()).\u0275fac=function(e){return new(e||Z)(i.Jb(s.b),i.Jb(p),i.Jb(t.f),i.Jb(o.b),i.Jb(o.a),i.Jb(a.a))},Z.\u0275cmp=i.Db({type:Z,selectors:[["app-signin"]],decls:22,vars:7,consts:[[1,"my-3",3,"formGroup","ngSubmit"],[1,"form-group","row","justify-content-md-center"],["for","email",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5"],["type","email","formControlName","email",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"col-sm-2","col-form-label"],["type","password","formControlName","password",1,"form-control"],[1,"col-sm-10","col-lg-3"],["type","submit",1,"btn","btn-secondary","mx-3",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["type","button",1,"btn","btn-secondary","mx-3",3,"click"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(i.Mb(0,"form",0),i.Ub("ngSubmit",(function(){return r.onSubmit()})),i.Mb(1,"div",1),i.Mb(2,"label",2),i.gc(3," Email "),i.Lb(),i.Mb(4,"div",3),i.Kb(5,"input",4),i.fc(6,I,2,0,"span",5),i.fc(7,z,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(8,"div",1),i.Mb(9,"label",6),i.gc(10," Password "),i.Lb(),i.Mb(11,"div",3),i.Kb(12,"input",7),i.fc(13,U,2,0,"span",5),i.fc(14,S,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(15,"div",1),i.Mb(16,"div",8),i.Mb(17,"button",9),i.fc(18,_,1,0,"span",10),i.gc(19," SignIn "),i.Lb(),i.Mb(20,"button",11),i.Ub("click",(function(){return r.goBack()})),i.gc(21,"Cancel"),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.Zb("formGroup",r.signinForm),i.zb(6),i.Zb("ngIf",(r.f.email.touched||r.submitted)&&(null==r.f.email.errors?null:r.f.email.errors.required)),i.zb(1),i.Zb("ngIf",r.f.email.touched&&(null==r.f.email.errors?null:r.f.email.errors.email)),i.zb(6),i.Zb("ngIf",(r.f.password.touched||r.submitted)&&(null==r.f.password.errors?null:r.f.password.errors.required)),i.zb(1),i.Zb("ngIf",r.f.password.touched&&(null==r.f.password.errors?null:r.f.password.errors.invalidPassword)),i.zb(3),i.Zb("disabled",!r.signinForm.valid&&r.loading),i.zb(1),i.Zb("ngIf",r.loading))},directives:[s.k,s.g,s.d,s.a,s.f,s.c,t.i],styles:[""]}),Z),x=((N=function(){function e(r){_classCallCheck(this,e),this.userService=r}return _createClass(e,[{key:"canActivate",value:function(e,r){return null!=this.userService.currentUser}}]),e}()).\u0275fac=function(e){return new(e||N)(i.Qb(a.a))},N.\u0275prov=i.Fb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),j=[{path:"",children:[{path:"signup",component:C},{path:"authenticate",component:F},{path:"",component:u,canActivate:[x]},{path:":id",component:m,canActivate:[x]}]}],J=((q=function e(){_classCallCheck(this,e)}).\u0275mod=i.Hb({type:q}),q.\u0275inj=i.Gb({factory:function(e){return new(e||q)},imports:[[t.b,o.d.forChild(j)],o.d]}),q);n.d(r,"UsersModule",(function(){return E}));var O,E=((O=function e(){_classCallCheck(this,e)}).\u0275mod=i.Hb({type:O}),O.\u0275inj=i.Gb({factory:function(e){return new(e||O)},imports:[[t.b,s.e,s.i,J]]}),O)}}]);