(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zrcO:function(r,e,s){"use strict";s.r(e);var t=s("ofXK"),n=s("3Pt+"),o=s("tyNb"),i=s("fXoL"),a=s("zLM3");function c(r,e){if(1&r&&(i.Mb(0,"li",3),i.Mb(1,"a",4),i.gc(2),i.Lb(),i.Lb()),2&r){const r=e.$implicit;i.zb(1),i.ac("routerLink","/users/",r.id,""),i.zb(1),i.ic(" ",r.name," ")}}let l=(()=>{class r{constructor(r){this.userService=r,this.users=[]}ngOnInit(){this.getUsers()}getUsers(){this.userService.getUsers().subscribe(r=>this.users=r)}}return r.\u0275fac=function(e){return new(e||r)(i.Jb(a.a))},r.\u0275cmp=i.Db({type:r,selectors:[["app-user-list"]],decls:4,vars:1,consts:[[1,"p-3","mb-2","bg-secondary","text-white"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"routerLink"]],template:function(r,e){1&r&&(i.Mb(0,"h2",0),i.gc(1,"Users"),i.Lb(),i.Mb(2,"ul",1),i.fc(3,c,3,2,"li",2),i.Lb()),2&r&&(i.zb(3),i.Zb("ngForOf",e.users))},directives:[t.h,o.c],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]}),r})();function b(r,e){if(1&r){const r=i.Nb();i.Mb(0,"div"),i.Mb(1,"h2",1),i.gc(2),i.Xb(3,"uppercase"),i.Lb(),i.Mb(4,"div",2),i.Mb(5,"label",3),i.gc(6),i.Lb(),i.Mb(7,"div",4),i.Mb(8,"input",5),i.Ub("ngModelChange",(function(e){return i.cc(r),i.Wb().user.name=e})),i.Lb(),i.Lb(),i.Lb(),i.Mb(9,"div",6),i.Mb(10,"button",7),i.Ub("click",(function(){return i.cc(r),i.Wb().goBack()})),i.gc(11,"Go Back"),i.Lb(),i.Lb(),i.Lb()}if(2&r){const r=i.Wb();i.zb(2),i.ic(" ",i.Yb(3,3,r.user.name)," Detail "),i.zb(4),i.ic(" ",r.user.name," "),i.zb(2),i.Zb("ngModel",r.user.name)}}let u=(()=>{class r{constructor(r,e,s){this.userService=r,this.route=e,this.location=s}ngOnInit(){this.getUser()}getUser(){const r=+this.route.snapshot.paramMap.get("id");this.userService.getUser(r).subscribe(r=>this.user=r)}goBack(){this.location.back()}}return r.\u0275fac=function(e){return new(e||r)(i.Jb(a.a),i.Jb(o.a),i.Jb(t.f))},r.\u0275cmp=i.Db({type:r,selectors:[["app-user-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-2","mb-2","bg-secondary","text-white","text-center"],[1,"form-group","row","justify-content-md-center"],["for","username",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5","my-3"],["placeholder","user name","name","username","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],[1,"btn","btn-secondary",3,"click"]],template:function(r,e){1&r&&i.fc(0,b,12,5,"div",0),2&r&&i.Zb("ngIf",e.user)},directives:[t.i,n.a,n.f,n.h],pipes:[t.l],styles:[""]}),r})(),d=(()=>{class r{constructor(){}patternValidator(){return r=>r.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(r.value)?null:{invalidPassword:!0}:null}MatchPassword(r,e){return s=>{const t=s.controls[r],n=s.controls[e];return t&&n?n.errors&&!n.errors.passwordMismatch?null:void n.setErrors(t.value!=n.value?{passwordMismatch:!0}:null):null}}userNameValidator(r){return new Promise(e=>{setTimeout(()=>{this.validateUserName(r.value)?e({userNameNotAvailable:!0}):e(null)},1e3)})}validateUserName(r){return["Lola","Sky","Trump"].indexOf(r)>-1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=i.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function m(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Name is required "),i.Lb())}function f(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Email is required "),i.Lb())}function p(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Enter a valid email address "),i.Lb())}function g(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Password is required "),i.Lb())}function h(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),i.Lb())}function v(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Confirm Password is required "),i.Lb())}function w(r,e){1&r&&(i.Mb(0,"span",15),i.gc(1," Passwords doesnot match "),i.Lb())}let M=(()=>{class r{constructor(r,e,s){this.fb=r,this.customValidator=e,this.location=s,this.submitted=!1}ngOnInit(){this.signupForm=this.fb.group({userName:["",n.j.required],email:["",[n.j.required,n.j.email]],password:["",n.j.compose([n.j.required,this.customValidator.patternValidator()])],confirmedPassword:["",[n.j.required]]},{validator:this.customValidator.MatchPassword("password","confirmedPassword")})}get f(){return this.signupForm.controls}onSubmit(){this.submitted=!0,this.signupForm.valid&&alert("Form submitted successfully\n\n\n Check the values in the browser console"),console.table(this.signupForm.value)}goBack(){this.location.back()}}return r.\u0275fac=function(e){return new(e||r)(i.Jb(n.b),i.Jb(d),i.Jb(t.f))},r.\u0275cmp=i.Db({type:r,selectors:[["app-signup"]],decls:34,vars:9,consts:[[1,"my-3",3,"formGroup","ngSubmit"],[1,"form-group","row","justify-content-md-center"],["for","username",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5"],["type","text","formControlName","userName",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email",1,"col-sm-2","col-form-label"],["type","email","formControlName","email",1,"form-control"],["for","password",1,"col-sm-2","col-form-label"],["type","password","formControlName","password",1,"form-control"],["for","confirm_password",1,"col-sm-2","col-form-label"],["type","password","formControlName","confirmedPassword",1,"form-control"],[1,"col-sm-10","col-lg-3"],["type","submit",1,"btn","btn-secondary","mx-3",3,"disabled"],["type","button",1,"btn","btn-secondary","mx-3",3,"click"],[1,"text-danger"]],template:function(r,e){1&r&&(i.Mb(0,"form",0),i.Ub("ngSubmit",(function(){return e.onSubmit()})),i.Mb(1,"div",1),i.Mb(2,"label",2),i.gc(3," User Name "),i.Lb(),i.Mb(4,"div",3),i.Kb(5,"input",4),i.fc(6,m,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(7,"div",1),i.Mb(8,"label",6),i.gc(9," Email "),i.Lb(),i.Mb(10,"div",3),i.Kb(11,"input",7),i.fc(12,f,2,0,"span",5),i.fc(13,p,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(14,"div",1),i.Mb(15,"label",8),i.gc(16," Password "),i.Lb(),i.Mb(17,"div",3),i.Kb(18,"input",9),i.fc(19,g,2,0,"span",5),i.fc(20,h,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(21,"div",1),i.Mb(22,"label",10),i.gc(23," Confirm Password "),i.Lb(),i.Mb(24,"div",3),i.Kb(25,"input",11),i.fc(26,v,2,0,"span",5),i.fc(27,w,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(28,"div",1),i.Mb(29,"div",12),i.Mb(30,"button",13),i.gc(31,"Sign Up"),i.Lb(),i.Mb(32,"button",14),i.Ub("click",(function(){return e.goBack()})),i.gc(33,"Cancel"),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&r&&(i.Zb("formGroup",e.signupForm),i.zb(6),i.Zb("ngIf",(e.f.userName.touched||e.submitted)&&(null==e.f.userName.errors?null:e.f.userName.errors.required)),i.zb(6),i.Zb("ngIf",(e.f.email.touched||e.submitted)&&(null==e.f.email.errors?null:e.f.email.errors.required)),i.zb(1),i.Zb("ngIf",e.f.email.touched&&(null==e.f.email.errors?null:e.f.email.errors.email)),i.zb(6),i.Zb("ngIf",(e.f.password.touched||e.submitted)&&(null==e.f.password.errors?null:e.f.password.errors.required)),i.zb(1),i.Zb("ngIf",e.f.password.touched&&(null==e.f.password.errors?null:e.f.password.errors.invalidPassword)),i.zb(6),i.Zb("ngIf",(e.f.confirmedPassword.touched||e.submitted)&&(null==e.f.confirmedPassword.errors?null:e.f.confirmedPassword.errors.required)),i.zb(1),i.Zb("ngIf",e.f.confirmedPassword.touched&&(null==e.f.confirmedPassword.errors?null:e.f.confirmedPassword.errors.passwordMismatch)),i.zb(3),i.Zb("disabled",!e.signupForm.valid))},directives:[n.k,n.g,n.d,n.a,n.f,n.c,t.i],styles:[""]}),r})();var L=s("SxV6");function y(r,e){1&r&&(i.Mb(0,"span",12),i.gc(1," Email is required "),i.Lb())}function P(r,e){1&r&&(i.Mb(0,"span",12),i.gc(1," Enter a valid email address "),i.Lb())}function k(r,e){1&r&&(i.Mb(0,"span",12),i.gc(1," Password is required "),i.Lb())}function I(r,e){1&r&&(i.Mb(0,"span",12),i.gc(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),i.Lb())}function z(r,e){1&r&&i.Kb(0,"span",13)}let U=(()=>{class r{constructor(r,e,s,t,n,o){this.fb=r,this.userCustomValidationService=e,this.location=s,this.router=t,this.route=n,this.userService=o,this.submitted=!1,this.loading=!1}ngOnInit(){this.signinForm=this.fb.group({email:["",[n.j.required,n.j.email]],password:["",n.j.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.signinForm.controls}onSubmit(){this.submitted=!0,this.signinForm.invalid||(this.loading=!0,this.userService.login(this.f.email.value,this.f.password.value).pipe(Object(L.a)()).subscribe(r=>{this.router.navigate([this.returnUrl])},r=>{this.error=r,this.loading=!1}),console.table(this.signinForm.value))}goBack(){this.location.back()}}return r.\u0275fac=function(e){return new(e||r)(i.Jb(n.b),i.Jb(d),i.Jb(t.f),i.Jb(o.b),i.Jb(o.a),i.Jb(a.a))},r.\u0275cmp=i.Db({type:r,selectors:[["app-signin"]],decls:22,vars:7,consts:[[1,"my-3",3,"formGroup","ngSubmit"],[1,"form-group","row","justify-content-md-center"],["for","email",1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-lg-5"],["type","email","formControlName","email",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"col-sm-2","col-form-label"],["type","password","formControlName","password",1,"form-control"],[1,"col-sm-10","col-lg-3"],["type","submit",1,"btn","btn-secondary","mx-3",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["type","button",1,"btn","btn-secondary","mx-3",3,"click"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(i.Mb(0,"form",0),i.Ub("ngSubmit",(function(){return e.onSubmit()})),i.Mb(1,"div",1),i.Mb(2,"label",2),i.gc(3," Email "),i.Lb(),i.Mb(4,"div",3),i.Kb(5,"input",4),i.fc(6,y,2,0,"span",5),i.fc(7,P,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(8,"div",1),i.Mb(9,"label",6),i.gc(10," Password "),i.Lb(),i.Mb(11,"div",3),i.Kb(12,"input",7),i.fc(13,k,2,0,"span",5),i.fc(14,I,2,0,"span",5),i.Lb(),i.Lb(),i.Mb(15,"div",1),i.Mb(16,"div",8),i.Mb(17,"button",9),i.fc(18,z,1,0,"span",10),i.gc(19," SignIn "),i.Lb(),i.Mb(20,"button",11),i.Ub("click",(function(){return e.goBack()})),i.gc(21,"Cancel"),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&r&&(i.Zb("formGroup",e.signinForm),i.zb(6),i.Zb("ngIf",(e.f.email.touched||e.submitted)&&(null==e.f.email.errors?null:e.f.email.errors.required)),i.zb(1),i.Zb("ngIf",e.f.email.touched&&(null==e.f.email.errors?null:e.f.email.errors.email)),i.zb(6),i.Zb("ngIf",(e.f.password.touched||e.submitted)&&(null==e.f.password.errors?null:e.f.password.errors.required)),i.zb(1),i.Zb("ngIf",e.f.password.touched&&(null==e.f.password.errors?null:e.f.password.errors.invalidPassword)),i.zb(3),i.Zb("disabled",!e.signinForm.valid&&e.loading),i.zb(1),i.Zb("ngIf",e.loading))},directives:[n.k,n.g,n.d,n.a,n.f,n.c,t.i],styles:[""]}),r})(),S=(()=>{class r{constructor(r){this.userService=r}canActivate(r,e){return null!=this.userService.currentUser}}return r.\u0275fac=function(e){return new(e||r)(i.Qb(a.a))},r.\u0275prov=i.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const N=[{path:"",children:[{path:"signup",component:M},{path:"authenticate",component:U},{path:"",component:l,canActivate:[S]},{path:":id",component:u,canActivate:[S]}]}];let Z=(()=>{class r{}return r.\u0275mod=i.Hb({type:r}),r.\u0275inj=i.Gb({factory:function(e){return new(e||r)},imports:[[t.b,o.d.forChild(N)],o.d]}),r})();s.d(e,"UsersModule",(function(){return q}));let q=(()=>{class r{}return r.\u0275mod=i.Hb({type:r}),r.\u0275inj=i.Gb({factory:function(e){return new(e||r)},imports:[[t.b,n.e,n.i,Z]]}),r})()}}]);